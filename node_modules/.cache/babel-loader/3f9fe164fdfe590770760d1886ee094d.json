{"ast":null,"code":"var _jsxFileName = \"/home/carol/Projetos/sd-024-b-project-recipes-app/src/components/CategoryControls.js\",\n    _s = $RefreshSig$();\n\nimport { React, useContext } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport AppContext from '../context/AppContext';\nimport { meals12recipesApi, drinks12recipesApi } from '../helpers/API';\nimport '../styles/categoryControl.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CategoryControls() {\n  _s();\n\n  const {\n    category,\n    title,\n    setRecipeList,\n    categoryClicked,\n    setCategoryClicked\n  } = useContext(AppContext); // lista as primeiras 12 comidas com base na categoria escolhida\n\n  const handleClick = async _ref => {\n    let {\n      target\n    } = _ref;\n\n    if (title === 'Meals') {\n      if (target.value === 'All' || categoryClicked === target.value) {\n        const data = await meals12recipesApi();\n        setRecipeList(data);\n        setCategoryClicked(null);\n        return;\n      }\n\n      setCategoryClicked(target.value);\n      const response = await fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?c=${target.value}`);\n      const data = await response.json();\n      const twelve = 12;\n      const getTwelveCategoriesResults = data.meals.slice(0, twelve);\n      setRecipeList(getTwelveCategoriesResults);\n    } // lista os primeiros 12 drinks com base na categoria escolhida\n\n\n    if (title === 'Drinks') {\n      if (target.value === 'All' || categoryClicked === target.value) {\n        const data = await drinks12recipesApi();\n        setRecipeList(data);\n        setCategoryClicked(null);\n        return;\n      }\n\n      setCategoryClicked(target.value);\n      const response = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/filter.php?c=${target.value}`);\n      const data = await response.json();\n      const twelve = 12;\n      const getTwelveCategoriesResults = data.drinks.slice(0, twelve);\n      setRecipeList(getTwelveCategoriesResults);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"category-control\",\n    children: [category.map(_ref2 => {\n      let {\n        strCategory\n      } = _ref2;\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        \"data-testid\": `${strCategory}-category-filter`,\n        value: strCategory,\n        onClick: event => handleClick(event),\n        children: strCategory\n      }, strCategory, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"All-category-filter\",\n      value: \"All\",\n      onClick: event => handleClick(event),\n      children: \"All\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CategoryControls, \"uoqqaYpECv1QV8ZsskFYc7Kmbtw=\");\n\n_c = CategoryControls;\nexport default _c2 = withRouter(CategoryControls);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CategoryControls\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useContext","withRouter","AppContext","meals12recipesApi","drinks12recipesApi","CategoryControls","category","title","setRecipeList","categoryClicked","setCategoryClicked","handleClick","target","value","data","response","fetch","json","twelve","getTwelveCategoriesResults","meals","slice","drinks","map","strCategory","event"],"sources":["/home/carol/Projetos/sd-024-b-project-recipes-app/src/components/CategoryControls.js"],"sourcesContent":["import { React, useContext } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport AppContext from '../context/AppContext';\nimport { meals12recipesApi, drinks12recipesApi } from '../helpers/API';\nimport '../styles/categoryControl.css';\n\nfunction CategoryControls() {\n  const {\n    category,\n    title,\n    setRecipeList,\n    categoryClicked,\n    setCategoryClicked,\n  } = useContext(AppContext);\n\n  // lista as primeiras 12 comidas com base na categoria escolhida\n  const handleClick = async ({ target }) => {\n    if (title === 'Meals') {\n      if (target.value === 'All' || categoryClicked === target.value) {\n        const data = await meals12recipesApi();\n        setRecipeList(data);\n        setCategoryClicked(null);\n        return;\n      }\n      setCategoryClicked(target.value);\n      const response = await fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?c=${target.value}`);\n      const data = await response.json();\n      const twelve = 12;\n      const getTwelveCategoriesResults = data.meals.slice(0, twelve);\n      setRecipeList(getTwelveCategoriesResults);\n    }\n    // lista os primeiros 12 drinks com base na categoria escolhida\n    if (title === 'Drinks') {\n      if (target.value === 'All' || categoryClicked === target.value) {\n        const data = await drinks12recipesApi();\n        setRecipeList(data);\n        setCategoryClicked(null);\n        return;\n      }\n      setCategoryClicked(target.value);\n      const response = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/filter.php?c=${target.value}`);\n      const data = await response.json();\n      const twelve = 12;\n      const getTwelveCategoriesResults = data.drinks.slice(0, twelve);\n      setRecipeList(getTwelveCategoriesResults);\n    }\n  };\n\n  return (\n    <div className=\"category-control\">\n      {\n        category.map(({ strCategory }) => (\n          <button\n            type=\"button\"\n            key={ strCategory }\n            data-testid={ `${strCategory}-category-filter` }\n            value={ strCategory }\n            onClick={ (event) => handleClick(event) }\n          >\n            {strCategory}\n          </button>\n        ))\n      }\n      <button\n        type=\"button\"\n        data-testid=\"All-category-filter\"\n        value=\"All\"\n        onClick={ (event) => handleClick(event) }\n      >\n        All\n      </button>\n    </div>\n\n  );\n}\n\nexport default withRouter(CategoryControls);\n"],"mappings":";;;AAAA,SAASA,KAAT,EAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,SAASC,iBAAT,EAA4BC,kBAA5B,QAAsD,gBAAtD;AACA,OAAO,+BAAP;;;AAEA,SAASC,gBAAT,GAA4B;EAAA;;EAC1B,MAAM;IACJC,QADI;IAEJC,KAFI;IAGJC,aAHI;IAIJC,eAJI;IAKJC;EALI,IAMFV,UAAU,CAACE,UAAD,CANd,CAD0B,CAS1B;;EACA,MAAMS,WAAW,GAAG,cAAsB;IAAA,IAAf;MAAEC;IAAF,CAAe;;IACxC,IAAIL,KAAK,KAAK,OAAd,EAAuB;MACrB,IAAIK,MAAM,CAACC,KAAP,KAAiB,KAAjB,IAA0BJ,eAAe,KAAKG,MAAM,CAACC,KAAzD,EAAgE;QAC9D,MAAMC,IAAI,GAAG,MAAMX,iBAAiB,EAApC;QACAK,aAAa,CAACM,IAAD,CAAb;QACAJ,kBAAkB,CAAC,IAAD,CAAlB;QACA;MACD;;MACDA,kBAAkB,CAACE,MAAM,CAACC,KAAR,CAAlB;MACA,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAE,wDAAuDJ,MAAM,CAACC,KAAM,EAAtE,CAA5B;MACA,MAAMC,IAAI,GAAG,MAAMC,QAAQ,CAACE,IAAT,EAAnB;MACA,MAAMC,MAAM,GAAG,EAAf;MACA,MAAMC,0BAA0B,GAAGL,IAAI,CAACM,KAAL,CAAWC,KAAX,CAAiB,CAAjB,EAAoBH,MAApB,CAAnC;MACAV,aAAa,CAACW,0BAAD,CAAb;IACD,CAduC,CAexC;;;IACA,IAAIZ,KAAK,KAAK,QAAd,EAAwB;MACtB,IAAIK,MAAM,CAACC,KAAP,KAAiB,KAAjB,IAA0BJ,eAAe,KAAKG,MAAM,CAACC,KAAzD,EAAgE;QAC9D,MAAMC,IAAI,GAAG,MAAMV,kBAAkB,EAArC;QACAI,aAAa,CAACM,IAAD,CAAb;QACAJ,kBAAkB,CAAC,IAAD,CAAlB;QACA;MACD;;MACDA,kBAAkB,CAACE,MAAM,CAACC,KAAR,CAAlB;MACA,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAE,4DAA2DJ,MAAM,CAACC,KAAM,EAA1E,CAA5B;MACA,MAAMC,IAAI,GAAG,MAAMC,QAAQ,CAACE,IAAT,EAAnB;MACA,MAAMC,MAAM,GAAG,EAAf;MACA,MAAMC,0BAA0B,GAAGL,IAAI,CAACQ,MAAL,CAAYD,KAAZ,CAAkB,CAAlB,EAAqBH,MAArB,CAAnC;MACAV,aAAa,CAACW,0BAAD,CAAb;IACD;EACF,CA9BD;;EAgCA,oBACE;IAAK,SAAS,EAAC,kBAAf;IAAA,WAEIb,QAAQ,CAACiB,GAAT,CAAa;MAAA,IAAC;QAAEC;MAAF,CAAD;MAAA,oBACX;QACE,IAAI,EAAC,QADP;QAGE,eAAe,GAAEA,WAAY,kBAH/B;QAIE,KAAK,EAAGA,WAJV;QAKE,OAAO,EAAIC,KAAD,IAAWd,WAAW,CAACc,KAAD,CALlC;QAAA,UAOGD;MAPH,GAEQA,WAFR;QAAA;QAAA;QAAA;MAAA,QADW;IAAA,CAAb,CAFJ,eAcE;MACE,IAAI,EAAC,QADP;MAEE,eAAY,qBAFd;MAGE,KAAK,EAAC,KAHR;MAIE,OAAO,EAAIC,KAAD,IAAWd,WAAW,CAACc,KAAD,CAJlC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAdF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA0BD;;GApEQpB,gB;;KAAAA,gB;AAsET,qBAAeJ,UAAU,CAACI,gBAAD,CAAzB"},"metadata":{},"sourceType":"module"}