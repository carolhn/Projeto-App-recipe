{"ast":null,"code":"var _jsxFileName = \"/home/carol/Github/Projeto-App-recipe/src/pages/RecipeDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useParams, useHistory } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport RecipeDetailCard from '../components/RecipeDetailCard';\nimport Carousel from '../components/Carousel';\nimport { mealDetailsApi, drinkDetailsApi } from '../helpers/API';\nimport AppContext from '../context/AppContext';\nimport shareIcon from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport '../styles/recipeDetails.css'; // import blackHeartIcon from '../images/blackHeartIcon.svg';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RecipeDetails(_ref) {\n  _s();\n\n  let {\n    location: {\n      pathname\n    }\n  } = _ref;\n  const [isCopied, setIsCopied] = useState(false);\n  const {\n    recipe,\n    setRecipe\n  } = useContext(AppContext);\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n\n  const fecthMealsDetails = async idRecipe => {\n    const recipeDetail = await mealDetailsApi(idRecipe);\n    setRecipe(recipeDetail.meals);\n  };\n\n  const fecthDrinksDetails = async idRecipe => {\n    const drinkDetail = await drinkDetailsApi(idRecipe);\n    setRecipe(drinkDetail.drinks);\n  };\n\n  const handleClick = () => {\n    const route = pathname;\n\n    if (route.includes('meals')) {\n      history.push(`/meals/${recipe[0].idMeal}/in-progress`);\n    } else {\n      history.push(`/drinks/${recipe[0].idDrink}/in-progress`);\n    }\n  };\n\n  const handleCopy = () => {\n    const url = window.location.href;\n    copy(url);\n    setIsCopied(true);\n  };\n\n  const handleFavorite = () => {\n    const getFavoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes')) || [];\n    const setFavoriteRecipes = [...getFavoriteRecipes, {\n      id: recipe[0].idDrink || recipe[0].idMeal,\n      type: pathname.includes('drink') ? 'drink' : 'meal',\n      nationality: recipe[0].strArea || '',\n      category: recipe[0].strCategory,\n      alcoholicOrNot: recipe[0].strAlcoholic || '',\n      name: recipe[0].strDrink || recipe[0].strMeal,\n      image: recipe[0].strDrinkThumb || recipe[0].strMealThumb\n    }];\n    localStorage.setItem('favoriteRecipes', JSON.stringify(setFavoriteRecipes));\n  };\n\n  useEffect(() => {\n    const handleRecipeandRecipeType = async () => {\n      const route = pathname;\n      const receita = route.includes('meals') ? await fecthMealsDetails(id) : await fecthDrinksDetails(id);\n      return receita;\n    };\n\n    handleRecipeandRecipeType();\n  }, [id, pathname]);\n  const styles = {\n    position: 'fixed',\n    bottom: '0px'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"icons\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"icon-share\",\n        type: \"image\",\n        src: shareIcon,\n        alt: \"Compartilhar receita\",\n        \"data-testid\": \"share-btn\",\n        onClick: () => handleCopy()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), isCopied && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Link copied!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"icon-favorite\",\n        type: \"image\",\n        src: whiteHeartIcon,\n        alt: \"Favoritar receita\",\n        \"data-testid\": \"favorite-btn\",\n        onClick: () => handleFavorite()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RecipeDetailCard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Carousel, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"button-start\",\n      type: \"button\",\n      \"data-testid\": \"start-recipe-btn\",\n      style: styles,\n      onClick: handleClick,\n      children: \"Start Recipe\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RecipeDetails, \"ATFubMDRoY4iiV7A0G2tHjca9LI=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = RecipeDetails;\nRecipeDetails.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string\n  }).isRequired\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipeDetails\");","map":{"version":3,"names":["React","useEffect","useContext","useState","PropTypes","useParams","useHistory","copy","RecipeDetailCard","Carousel","mealDetailsApi","drinkDetailsApi","AppContext","shareIcon","whiteHeartIcon","RecipeDetails","location","pathname","isCopied","setIsCopied","recipe","setRecipe","id","history","fecthMealsDetails","idRecipe","recipeDetail","meals","fecthDrinksDetails","drinkDetail","drinks","handleClick","route","includes","push","idMeal","idDrink","handleCopy","url","window","href","handleFavorite","getFavoriteRecipes","JSON","parse","localStorage","getItem","setFavoriteRecipes","type","nationality","strArea","category","strCategory","alcoholicOrNot","strAlcoholic","name","strDrink","strMeal","image","strDrinkThumb","strMealThumb","setItem","stringify","handleRecipeandRecipeType","receita","styles","position","bottom","propTypes","shape","string","isRequired"],"sources":["/home/carol/Github/Projeto-App-recipe/src/pages/RecipeDetails.js"],"sourcesContent":["import React, { useEffect, useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useParams, useHistory } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport RecipeDetailCard from '../components/RecipeDetailCard';\nimport Carousel from '../components/Carousel';\nimport { mealDetailsApi, drinkDetailsApi } from '../helpers/API';\nimport AppContext from '../context/AppContext';\nimport shareIcon from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport '../styles/recipeDetails.css';\n// import blackHeartIcon from '../images/blackHeartIcon.svg';\n\nexport default function RecipeDetails({ location: { pathname } }) {\n  const [isCopied, setIsCopied] = useState(false);\n  const { recipe, setRecipe } = useContext(AppContext);\n  const { id } = useParams();\n  const history = useHistory();\n\n  const fecthMealsDetails = async (idRecipe) => {\n    const recipeDetail = await mealDetailsApi(idRecipe);\n    setRecipe(recipeDetail.meals);\n  };\n\n  const fecthDrinksDetails = async (idRecipe) => {\n    const drinkDetail = await drinkDetailsApi(idRecipe);\n    setRecipe(drinkDetail.drinks);\n  };\n\n  const handleClick = () => {\n    const route = pathname;\n    if (route.includes('meals')) {\n      history.push(`/meals/${recipe[0].idMeal}/in-progress`);\n    } else {\n      history.push(`/drinks/${recipe[0].idDrink}/in-progress`);\n    }\n  };\n\n  const handleCopy = () => {\n    const url = window.location.href;\n    copy(url);\n    setIsCopied(true);\n  };\n\n  const handleFavorite = () => {\n    const getFavoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes')) || [];\n    const setFavoriteRecipes = [\n      ...getFavoriteRecipes,\n      {\n        id: recipe[0].idDrink || recipe[0].idMeal,\n        type: pathname.includes('drink') ? 'drink' : 'meal',\n        nationality: recipe[0].strArea || '',\n        category: recipe[0].strCategory,\n        alcoholicOrNot: recipe[0].strAlcoholic || '',\n        name: recipe[0].strDrink || recipe[0].strMeal,\n        image: recipe[0].strDrinkThumb || recipe[0].strMealThumb,\n      },\n    ];\n    localStorage.setItem('favoriteRecipes', JSON.stringify(setFavoriteRecipes));\n  };\n\n  useEffect(() => {\n    const handleRecipeandRecipeType = async () => {\n      const route = pathname;\n      const receita = route.includes('meals')\n        ? await fecthMealsDetails(id)\n        : await fecthDrinksDetails(id);\n      return receita;\n    };\n    handleRecipeandRecipeType();\n  }, [id, pathname]);\n\n  const styles = {\n    position: 'fixed',\n    bottom: '0px',\n  };\n\n  return (\n\n    <div>\n      <div className=\"icons\">\n        <input\n          className=\"icon-share\"\n          type=\"image\"\n          src={ shareIcon }\n          alt=\"Compartilhar receita\"\n          data-testid=\"share-btn\"\n          onClick={ () => handleCopy() }\n        />\n        {isCopied && <span>Link copied!</span>}\n        <input\n          className=\"icon-favorite\"\n          type=\"image\"\n          src={ whiteHeartIcon }\n          alt=\"Favoritar receita\"\n          data-testid=\"favorite-btn\"\n          onClick={ () => handleFavorite() }\n        />\n      </div>\n      <RecipeDetailCard />\n      <Carousel />\n      <button\n        className=\"button-start\"\n        type=\"button\"\n        data-testid=\"start-recipe-btn\"\n        style={ styles }\n        onClick={ handleClick }\n      >\n        Start Recipe\n      </button>\n    </div>\n  );\n}\n\nRecipeDetails.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string,\n  }).isRequired,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}