{"ast":null,"code":"var _jsxFileName = \"/home/carol/Projetos/sd-024-b-project-recipes-app/src/components/SearchBar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport AppContext from '../context/AppContext';\nimport { mealsIngredientApi, mealsNameApi, mealsFirstApi, drinksIngredientApi, drinksNameApi, drinksFirstApi } from '../helpers/API';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SearchBar(_ref) {\n  _s();\n\n  let {\n    valueSearch,\n    title\n  } = _ref;\n  const [search, setSearchFilter] = useState('ingredient');\n  const history = useHistory();\n  const {\n    setRecipeList\n  } = useContext(AppContext);\n\n  const handleRadio = _ref2 => {\n    let {\n      target\n    } = _ref2;\n    setSearchFilter(target.value);\n  };\n\n  const caseName = async () => {\n    let data;\n\n    if (title === 'Meals') {\n      console.log('AQU');\n      data = await mealsNameApi(valueSearch);\n      setRecipeList(data.meals);\n      return data;\n    }\n\n    data = await drinksNameApi(valueSearch);\n    setRecipeList(data.drinks);\n    return data;\n  };\n\n  const caseIngredient = async () => {\n    let data;\n\n    if (title === 'Meals') {\n      data = await mealsIngredientApi(valueSearch);\n      setRecipeList(data.meals);\n      return data;\n    }\n\n    data = await drinksIngredientApi(valueSearch);\n    setRecipeList(data.drinks);\n    return data;\n  };\n\n  const caseFirstLetter = async () => {\n    let data;\n\n    if (valueSearch.length === 1) {\n      if (title === 'Meals') {\n        data = await mealsFirstApi(valueSearch);\n        setRecipeList(data.meals);\n        return data;\n      }\n\n      data = await drinksFirstApi(valueSearch);\n      setRecipeList(data.drinks);\n      return data;\n    }\n\n    global.alert('Your search must have only 1 (one) character');\n  };\n\n  const handleClick = async () => {\n    let data;\n\n    switch (search) {\n      case 'ingredient':\n        data = await caseIngredient();\n        break;\n\n      case 'name':\n        data = await caseName();\n        break;\n\n      case 'firstLetter':\n        data = caseFirstLetter();\n\n        if (data.meals == null && data.drinks == null) {\n          return;\n        }\n\n        break;\n\n      default:\n        setRecipeList([]);\n    }\n\n    if (data && data.meals && data.meals.length === 1) {\n      history.push(`/meals/${data.meals[0].idMeal}`);\n    } else if (data && data.drinks && data.drinks.length === 1) {\n      history.push(`/drinks/${data.drinks[0].idDrink}`);\n    }\n\n    if (data.meals == null && data.drinks == null) {\n      global.alert('Sorry, we haven\\'t found any recipes for these filters.');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"ingredient\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            \"data-testid\": \"ingredient-search-radio\",\n            id: \"ingredient\",\n            name: \"search\",\n            value: \"ingredient\",\n            onChange: handleRadio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), \"Ingredient\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            \"data-testid\": \"name-search-radio\",\n            id: \"name\",\n            value: \"name\",\n            name: \"search\",\n            onChange: handleRadio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), \"Name\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"first letter\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            \"data-testid\": \"first-letter-search-radio\",\n            id: \"firstLetter\",\n            value: \"firstLetter\",\n            name: \"search\",\n            onChange: handleRadio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), \"First letter\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": \"exec-search-btn\",\n          type: \"button\",\n          onClick: handleClick,\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SearchBar, \"q2Y2yC1D0qL9RGdB/NrMlRSczLA=\", false, function () {\n  return [useHistory];\n});\n\n_c = SearchBar;\nSearchBar.propTypes = {\n  title: PropTypes.string.isRequired,\n  valueSearch: PropTypes.string.isRequired\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useContext","useState","PropTypes","useHistory","AppContext","mealsIngredientApi","mealsNameApi","mealsFirstApi","drinksIngredientApi","drinksNameApi","drinksFirstApi","SearchBar","valueSearch","title","search","setSearchFilter","history","setRecipeList","handleRadio","target","value","caseName","data","console","log","meals","drinks","caseIngredient","caseFirstLetter","length","global","alert","handleClick","push","idMeal","idDrink","propTypes","string","isRequired"],"sources":["/home/carol/Projetos/sd-024-b-project-recipes-app/src/components/SearchBar.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport AppContext from '../context/AppContext';\nimport {\n  mealsIngredientApi,\n  mealsNameApi,\n  mealsFirstApi,\n  drinksIngredientApi,\n  drinksNameApi,\n  drinksFirstApi } from '../helpers/API';\n\nexport default function SearchBar({ valueSearch, title }) {\n  const [search, setSearchFilter] = useState('ingredient');\n  const history = useHistory();\n\n  const { setRecipeList } = useContext(AppContext);\n\n  const handleRadio = ({ target }) => {\n    setSearchFilter(target.value);\n  };\n\n  const caseName = async () => {\n    let data;\n    if (title === 'Meals') {\n      console.log('AQU');\n      data = await mealsNameApi(valueSearch);\n      setRecipeList(data.meals);\n      return data;\n    }\n    data = await drinksNameApi(valueSearch);\n    setRecipeList(data.drinks);\n    return data;\n  };\n\n  const caseIngredient = async () => {\n    let data;\n    if (title === 'Meals') {\n      data = await mealsIngredientApi(valueSearch);\n      setRecipeList(data.meals);\n      return data;\n    }\n    data = await drinksIngredientApi(valueSearch);\n    setRecipeList(data.drinks);\n    return data;\n  };\n\n  const caseFirstLetter = async () => {\n    let data;\n    if (valueSearch.length === 1) {\n      if (title === 'Meals') {\n        data = await mealsFirstApi(valueSearch);\n        setRecipeList(data.meals);\n        return data;\n      }\n      data = await drinksFirstApi(valueSearch);\n      setRecipeList(data.drinks);\n      return data;\n    }\n    global.alert('Your search must have only 1 (one) character');\n  };\n\n  const handleClick = async () => {\n    let data;\n    switch (search) {\n    case 'ingredient':\n      data = await caseIngredient();\n      break;\n    case 'name':\n      data = await caseName();\n      break;\n    case 'firstLetter':\n      data = caseFirstLetter();\n      if (data.meals == null && data.drinks == null) {\n        return;\n      }\n      break;\n    default:\n      setRecipeList([]);\n    }\n    if (data && data.meals && data.meals.length === 1) {\n      history.push(`/meals/${data.meals[0].idMeal}`);\n    } else if (data && data.drinks && data.drinks.length === 1) {\n      history.push(`/drinks/${data.drinks[0].idDrink}`);\n    }\n    if (data.meals == null && data.drinks == null) {\n      global.alert('Sorry, we haven\\'t found any recipes for these filters.');\n    }\n  };\n\n  return (\n    <div>\n      <section>\n        <div>\n          <label htmlFor=\"ingredient\">\n            <input\n              type=\"radio\"\n              data-testid=\"ingredient-search-radio\"\n              id=\"ingredient\"\n              name=\"search\"\n              value=\"ingredient\"\n              onChange={ handleRadio }\n            />\n            Ingredient\n          </label>\n\n          <label htmlFor=\"name\">\n            <input\n              type=\"radio\"\n              data-testid=\"name-search-radio\"\n              id=\"name\"\n              value=\"name\"\n              name=\"search\"\n              onChange={ handleRadio }\n            />\n            Name\n          </label>\n\n          <label htmlFor=\"first letter\">\n            <input\n              type=\"radio\"\n              data-testid=\"first-letter-search-radio\"\n              id=\"firstLetter\"\n              value=\"firstLetter\"\n              name=\"search\"\n              onChange={ handleRadio }\n            />\n            First letter\n          </label>\n        </div>\n\n        <div>\n          <button\n            data-testid=\"exec-search-btn\"\n            type=\"button\"\n            onClick={ handleClick }\n          >\n            Search\n          </button>\n        </div>\n      </section>\n    </div>\n  );\n}\n\nSearchBar.propTypes = {\n  title: PropTypes.string.isRequired,\n  valueSearch: PropTypes.string.isRequired,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}